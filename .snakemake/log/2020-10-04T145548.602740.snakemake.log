Building DAG of jobs...
Using shell: /bin/bash
Provided cluster nodes: 500
Job counts:
	count	jobs
	7	LD_pruning
	7	add_evo_info
	1	all
	7	calc_gamma
	7	plot_gamma
	7	plot_pca
	7	run_pca
	43

[Sun Oct  4 14:55:49 2020]
rule run_pca:
    input: 1kg_IDS/AFR.txt
    output: output/PCA/AFR/AFR_0.01.eigenvec, output/PCA/AFR/AFR_0.01.eigenvec.var
    jobid: 19
    wildcards: POP=AFR, MAF=0.01

plink -bfile ../../data/1kg/plink-files/files/ALL.phase3_shapeit2_mvncall_integrated_v5a.20130502.genotypes --keep 1kg_IDS/AFR.txt --pca var-wts --out output/PCA/AFR/AFR_0.01 --maf 0.01 --no-sex  --noweb --no-pheno

[Sun Oct  4 14:55:49 2020]
rule run_pca:
    input: 1kg_IDS/SAS.txt
    output: output/PCA/SAS/SAS_0.01.eigenvec, output/PCA/SAS/SAS_0.01.eigenvec.var
    jobid: 21
    wildcards: POP=SAS, MAF=0.01

plink -bfile ../../data/1kg/plink-files/files/ALL.phase3_shapeit2_mvncall_integrated_v5a.20130502.genotypes --keep 1kg_IDS/SAS.txt --pca var-wts --out output/PCA/SAS/SAS_0.01 --maf 0.01 --no-sex  --noweb --no-pheno

[Sun Oct  4 14:55:49 2020]
rule run_pca:
    input: 1kg_IDS/MX.txt
    output: output/PCA/MX/MX_0.01.eigenvec, output/PCA/MX/MX_0.01.eigenvec.var
    jobid: 23
    wildcards: POP=MX, MAF=0.01

plink -bfile ../../data/1kg/plink-files/files/ALL.phase3_shapeit2_mvncall_integrated_v5a.20130502.genotypes --keep 1kg_IDS/MX.txt --pca var-wts --out output/PCA/MX/MX_0.01 --maf 0.01 --no-sex  --noweb --no-pheno

[Sun Oct  4 14:55:49 2020]
rule run_pca:
    input: 1kg_IDS/EUR.txt
    output: output/PCA/EUR/EUR_0.01.eigenvec, output/PCA/EUR/EUR_0.01.eigenvec.var
    jobid: 18
    wildcards: POP=EUR, MAF=0.01

plink -bfile ../../data/1kg/plink-files/files/ALL.phase3_shapeit2_mvncall_integrated_v5a.20130502.genotypes --keep 1kg_IDS/EUR.txt --pca var-wts --out output/PCA/EUR/EUR_0.01 --maf 0.01 --no-sex  --noweb --no-pheno

[Sun Oct  4 14:55:50 2020]
rule run_pca:
    input: 1kg_IDS/AMR.txt
    output: output/PCA/AMR/AMR_0.01.eigenvec, output/PCA/AMR/AMR_0.01.eigenvec.var
    jobid: 20
    wildcards: POP=AMR, MAF=0.01

plink -bfile ../../data/1kg/plink-files/files/ALL.phase3_shapeit2_mvncall_integrated_v5a.20130502.genotypes --keep 1kg_IDS/AMR.txt --pca var-wts --out output/PCA/AMR/AMR_0.01 --maf 0.01 --no-sex  --noweb --no-pheno

[Sun Oct  4 14:55:50 2020]
rule run_pca:
    input: 1kg_IDS/AA.txt
    output: output/PCA/AA/AA_0.01.eigenvec, output/PCA/AA/AA_0.01.eigenvec.var
    jobid: 22
    wildcards: POP=AA, MAF=0.01

plink -bfile ../../data/1kg/plink-files/files/ALL.phase3_shapeit2_mvncall_integrated_v5a.20130502.genotypes --keep 1kg_IDS/AA.txt --pca var-wts --out output/PCA/AA/AA_0.01 --maf 0.01 --no-sex  --noweb --no-pheno

[Sun Oct  4 14:55:50 2020]
rule run_pca:
    input: 1kg_IDS/ALL.txt
    output: output/PCA/ALL/ALL_0.01.eigenvec, output/PCA/ALL/ALL_0.01.eigenvec.var
    jobid: 24
    wildcards: POP=ALL, MAF=0.01

plink -bfile ../../data/1kg/plink-files/files/ALL.phase3_shapeit2_mvncall_integrated_v5a.20130502.genotypes --keep 1kg_IDS/ALL.txt --pca var-wts --out output/PCA/ALL/ALL_0.01 --maf 0.01 --no-sex  --noweb --no-pheno

[Sun Oct  4 14:55:51 2020]
rule add_evo_info:
    input: output/PCA/AA/AA_0.01.eigenvec.var
    output: output/PCA/AA/AA_0.01.eigenvec.var.evo
    jobid: 43
    wildcards: POP=AA, MAF=0.01


[Sun Oct  4 14:55:51 2020]
rule plot_pca:
    input: output/PCA/MX/MX_0.01.eigenvec
    output: output/figures/MX/MX_0.01_PCA.png
    jobid: 7
    wildcards: POP=MX, MAF=0.01


[Sun Oct  4 14:55:51 2020]
rule add_evo_info:
    input: output/PCA/AFR/AFR_0.01.eigenvec.var
    output: output/PCA/AFR/AFR_0.01.eigenvec.var.evo
    jobid: 37
    wildcards: POP=AFR, MAF=0.01


[Sun Oct  4 14:55:51 2020]
rule add_evo_info:
    input: output/PCA/ALL/ALL_0.01.eigenvec.var
    output: output/PCA/ALL/ALL_0.01.eigenvec.var.evo
    jobid: 47
    wildcards: POP=ALL, MAF=0.01


[Sun Oct  4 14:55:52 2020]
rule plot_pca:
    input: output/PCA/AMR/AMR_0.01.eigenvec
    output: output/figures/AMR/AMR_0.01_PCA.png
    jobid: 4
    wildcards: POP=AMR, MAF=0.01


[Sun Oct  4 14:55:52 2020]
rule plot_pca:
    input: output/PCA/EUR/EUR_0.01.eigenvec
    output: output/figures/EUR/EUR_0.01_PCA.png
    jobid: 2
    wildcards: POP=EUR, MAF=0.01


[Sun Oct  4 14:55:52 2020]
rule add_evo_info:
    input: output/PCA/SAS/SAS_0.01.eigenvec.var
    output: output/PCA/SAS/SAS_0.01.eigenvec.var.evo
    jobid: 41
    wildcards: POP=SAS, MAF=0.01


[Sun Oct  4 14:55:53 2020]
rule plot_pca:
    input: output/PCA/AA/AA_0.01.eigenvec
    output: output/figures/AA/AA_0.01_PCA.png
    jobid: 6
    wildcards: POP=AA, MAF=0.01


[Sun Oct  4 14:55:53 2020]
rule add_evo_info:
    input: output/PCA/MX/MX_0.01.eigenvec.var
    output: output/PCA/MX/MX_0.01.eigenvec.var.evo
    jobid: 45
    wildcards: POP=MX, MAF=0.01


[Sun Oct  4 14:55:53 2020]
rule add_evo_info:
    input: output/PCA/EUR/EUR_0.01.eigenvec.var
    output: output/PCA/EUR/EUR_0.01.eigenvec.var.evo
    jobid: 35
    wildcards: POP=EUR, MAF=0.01


[Sun Oct  4 14:55:53 2020]
rule plot_pca:
    input: output/PCA/ALL/ALL_0.01.eigenvec
    output: output/figures/ALL/ALL_0.01_PCA.png
    jobid: 8
    wildcards: POP=ALL, MAF=0.01


[Sun Oct  4 14:55:54 2020]
rule add_evo_info:
    input: output/PCA/AMR/AMR_0.01.eigenvec.var
    output: output/PCA/AMR/AMR_0.01.eigenvec.var.evo
    jobid: 39
    wildcards: POP=AMR, MAF=0.01


[Sun Oct  4 14:55:54 2020]
rule plot_pca:
    input: output/PCA/AFR/AFR_0.01.eigenvec
    output: output/figures/AFR/AFR_0.01_PCA.png
    jobid: 3
    wildcards: POP=AFR, MAF=0.01


[Sun Oct  4 14:55:54 2020]
rule plot_pca:
    input: output/PCA/SAS/SAS_0.01.eigenvec
    output: output/figures/SAS/SAS_0.01_PCA.png
    jobid: 5
    wildcards: POP=SAS, MAF=0.01


[Sun Oct  4 14:55:54 2020]
rule LD_pruning:
    input: output/PCA/MX/MX_0.01.eigenvec.var.evo
    output: output/pruned/MX/MX_0.01.50_5_0.5.DA.prune.in
    jobid: 46
    wildcards: POP=MX, MAF=0.01, window=50, step=5, thresh=0.5


        cut -f2,25 -d',' output/PCA/MX/MX_0.01.eigenvec.var.evo > all_ss_MX.temp
	awk '$2 != "NA"' FS=',' all_ss_MX.temp | cut -f1 -d',' > all_ss_MX.snps #Pick only D/A SNPs and get rsID 
        plink         --noweb         --bfile ../../data/1kg/plink-files/files/ALL.phase3_shapeit2_mvncall_integrated_v5a.20130502.genotypes         --extract all_ss_MX.snps 	--keep 1kg_IDS/MX.txt         --make-bed         --out all_ss_plink_MX 
        plink         --bfile all_ss_plink_MX         --indep-pairwise 50 5 0.5         --noweb         --out "output/pruned/MX/MX_0.01.50_5_0.5.DA"
	rm all_ss_plink_MX*
	rm all_ss_MX*
        

[Sun Oct  4 14:55:55 2020]
rule LD_pruning:
    input: output/PCA/EUR/EUR_0.01.eigenvec.var.evo
    output: output/pruned/EUR/EUR_0.01.50_5_0.5.DA.prune.in
    jobid: 36
    wildcards: POP=EUR, MAF=0.01, window=50, step=5, thresh=0.5


        cut -f2,25 -d',' output/PCA/EUR/EUR_0.01.eigenvec.var.evo > all_ss_EUR.temp
	awk '$2 != "NA"' FS=',' all_ss_EUR.temp | cut -f1 -d',' > all_ss_EUR.snps #Pick only D/A SNPs and get rsID 
        plink         --noweb         --bfile ../../data/1kg/plink-files/files/ALL.phase3_shapeit2_mvncall_integrated_v5a.20130502.genotypes         --extract all_ss_EUR.snps 	--keep 1kg_IDS/EUR.txt         --make-bed         --out all_ss_plink_EUR 
        plink         --bfile all_ss_plink_EUR         --indep-pairwise 50 5 0.5         --noweb         --out "output/pruned/EUR/EUR_0.01.50_5_0.5.DA"
	rm all_ss_plink_EUR*
	rm all_ss_EUR*
        

[Sun Oct  4 14:55:55 2020]
rule LD_pruning:
    input: output/PCA/AA/AA_0.01.eigenvec.var.evo
    output: output/pruned/AA/AA_0.01.50_5_0.5.DA.prune.in
    jobid: 44
    wildcards: POP=AA, MAF=0.01, window=50, step=5, thresh=0.5


        cut -f2,25 -d',' output/PCA/AA/AA_0.01.eigenvec.var.evo > all_ss_AA.temp
	awk '$2 != "NA"' FS=',' all_ss_AA.temp | cut -f1 -d',' > all_ss_AA.snps #Pick only D/A SNPs and get rsID 
        plink         --noweb         --bfile ../../data/1kg/plink-files/files/ALL.phase3_shapeit2_mvncall_integrated_v5a.20130502.genotypes         --extract all_ss_AA.snps 	--keep 1kg_IDS/AA.txt         --make-bed         --out all_ss_plink_AA 
        plink         --bfile all_ss_plink_AA         --indep-pairwise 50 5 0.5         --noweb         --out "output/pruned/AA/AA_0.01.50_5_0.5.DA"
	rm all_ss_plink_AA*
	rm all_ss_AA*
        

[Sun Oct  4 14:55:55 2020]
rule LD_pruning:
    input: output/PCA/SAS/SAS_0.01.eigenvec.var.evo
    output: output/pruned/SAS/SAS_0.01.50_5_0.5.DA.prune.in
    jobid: 42
    wildcards: POP=SAS, MAF=0.01, window=50, step=5, thresh=0.5


        cut -f2,25 -d',' output/PCA/SAS/SAS_0.01.eigenvec.var.evo > all_ss_SAS.temp
	awk '$2 != "NA"' FS=',' all_ss_SAS.temp | cut -f1 -d',' > all_ss_SAS.snps #Pick only D/A SNPs and get rsID 
        plink         --noweb         --bfile ../../data/1kg/plink-files/files/ALL.phase3_shapeit2_mvncall_integrated_v5a.20130502.genotypes         --extract all_ss_SAS.snps 	--keep 1kg_IDS/SAS.txt         --make-bed         --out all_ss_plink_SAS 
        plink         --bfile all_ss_plink_SAS         --indep-pairwise 50 5 0.5         --noweb         --out "output/pruned/SAS/SAS_0.01.50_5_0.5.DA"
	rm all_ss_plink_SAS*
	rm all_ss_SAS*
        

[Sun Oct  4 14:55:56 2020]
rule LD_pruning:
    input: output/PCA/AMR/AMR_0.01.eigenvec.var.evo
    output: output/pruned/AMR/AMR_0.01.50_5_0.5.DA.prune.in
    jobid: 40
    wildcards: POP=AMR, MAF=0.01, window=50, step=5, thresh=0.5


        cut -f2,25 -d',' output/PCA/AMR/AMR_0.01.eigenvec.var.evo > all_ss_AMR.temp
	awk '$2 != "NA"' FS=',' all_ss_AMR.temp | cut -f1 -d',' > all_ss_AMR.snps #Pick only D/A SNPs and get rsID 
        plink         --noweb         --bfile ../../data/1kg/plink-files/files/ALL.phase3_shapeit2_mvncall_integrated_v5a.20130502.genotypes         --extract all_ss_AMR.snps 	--keep 1kg_IDS/AMR.txt         --make-bed         --out all_ss_plink_AMR 
        plink         --bfile all_ss_plink_AMR         --indep-pairwise 50 5 0.5         --noweb         --out "output/pruned/AMR/AMR_0.01.50_5_0.5.DA"
	rm all_ss_plink_AMR*
	rm all_ss_AMR*
        

[Sun Oct  4 14:55:56 2020]
rule LD_pruning:
    input: output/PCA/ALL/ALL_0.01.eigenvec.var.evo
    output: output/pruned/ALL/ALL_0.01.50_5_0.5.DA.prune.in
    jobid: 48
    wildcards: POP=ALL, MAF=0.01, window=50, step=5, thresh=0.5


        cut -f2,25 -d',' output/PCA/ALL/ALL_0.01.eigenvec.var.evo > all_ss_ALL.temp
	awk '$2 != "NA"' FS=',' all_ss_ALL.temp | cut -f1 -d',' > all_ss_ALL.snps #Pick only D/A SNPs and get rsID 
        plink         --noweb         --bfile ../../data/1kg/plink-files/files/ALL.phase3_shapeit2_mvncall_integrated_v5a.20130502.genotypes         --extract all_ss_ALL.snps 	--keep 1kg_IDS/ALL.txt         --make-bed         --out all_ss_plink_ALL 
        plink         --bfile all_ss_plink_ALL         --indep-pairwise 50 5 0.5         --noweb         --out "output/pruned/ALL/ALL_0.01.50_5_0.5.DA"
	rm all_ss_plink_ALL*
	rm all_ss_ALL*
        

[Sun Oct  4 14:55:56 2020]
rule LD_pruning:
    input: output/PCA/AFR/AFR_0.01.eigenvec.var.evo
    output: output/pruned/AFR/AFR_0.01.50_5_0.5.DA.prune.in
    jobid: 38
    wildcards: POP=AFR, MAF=0.01, window=50, step=5, thresh=0.5


        cut -f2,25 -d',' output/PCA/AFR/AFR_0.01.eigenvec.var.evo > all_ss_AFR.temp
	awk '$2 != "NA"' FS=',' all_ss_AFR.temp | cut -f1 -d',' > all_ss_AFR.snps #Pick only D/A SNPs and get rsID 
        plink         --noweb         --bfile ../../data/1kg/plink-files/files/ALL.phase3_shapeit2_mvncall_integrated_v5a.20130502.genotypes         --extract all_ss_AFR.snps 	--keep 1kg_IDS/AFR.txt         --make-bed         --out all_ss_plink_AFR 
        plink         --bfile all_ss_plink_AFR         --indep-pairwise 50 5 0.5         --noweb         --out "output/pruned/AFR/AFR_0.01.50_5_0.5.DA"
	rm all_ss_plink_AFR*
	rm all_ss_AFR*
        

[Sun Oct  4 14:55:56 2020]
rule calc_gamma:
    input: output/PCA/AMR/AMR_0.01.eigenvec.var.evo, output/pruned/AMR/AMR_0.01.50_5_0.5.DA.prune.in
    output: output/gamma/AMR/AMR_0.01.50_5_0.5_gamma.txt
    jobid: 28
    wildcards: POP=AMR, MAF=0.01, window=50, step=5, thresh=0.5


[Sun Oct  4 14:55:57 2020]
rule calc_gamma:
    input: output/PCA/ALL/ALL_0.01.eigenvec.var.evo, output/pruned/ALL/ALL_0.01.50_5_0.5.DA.prune.in
    output: output/gamma/ALL/ALL_0.01.50_5_0.5_gamma.txt
    jobid: 32
    wildcards: POP=ALL, MAF=0.01, window=50, step=5, thresh=0.5


[Sun Oct  4 14:55:57 2020]
rule calc_gamma:
    input: output/PCA/AFR/AFR_0.01.eigenvec.var.evo, output/pruned/AFR/AFR_0.01.50_5_0.5.DA.prune.in
    output: output/gamma/AFR/AFR_0.01.50_5_0.5_gamma.txt
    jobid: 27
    wildcards: POP=AFR, MAF=0.01, window=50, step=5, thresh=0.5


[Sun Oct  4 14:55:57 2020]
rule calc_gamma:
    input: output/PCA/MX/MX_0.01.eigenvec.var.evo, output/pruned/MX/MX_0.01.50_5_0.5.DA.prune.in
    output: output/gamma/MX/MX_0.01.50_5_0.5_gamma.txt
    jobid: 31
    wildcards: POP=MX, MAF=0.01, window=50, step=5, thresh=0.5


[Sun Oct  4 14:55:57 2020]
rule calc_gamma:
    input: output/PCA/EUR/EUR_0.01.eigenvec.var.evo, output/pruned/EUR/EUR_0.01.50_5_0.5.DA.prune.in
    output: output/gamma/EUR/EUR_0.01.50_5_0.5_gamma.txt
    jobid: 26
    wildcards: POP=EUR, MAF=0.01, window=50, step=5, thresh=0.5


[Sun Oct  4 14:55:58 2020]
rule calc_gamma:
    input: output/PCA/AA/AA_0.01.eigenvec.var.evo, output/pruned/AA/AA_0.01.50_5_0.5.DA.prune.in
    output: output/gamma/AA/AA_0.01.50_5_0.5_gamma.txt
    jobid: 30
    wildcards: POP=AA, MAF=0.01, window=50, step=5, thresh=0.5


[Sun Oct  4 14:55:58 2020]
rule calc_gamma:
    input: output/PCA/SAS/SAS_0.01.eigenvec.var.evo, output/pruned/SAS/SAS_0.01.50_5_0.5.DA.prune.in
    output: output/gamma/SAS/SAS_0.01.50_5_0.5_gamma.txt
    jobid: 29
    wildcards: POP=SAS, MAF=0.01, window=50, step=5, thresh=0.5


[Sun Oct  4 14:55:58 2020]
rule plot_gamma:
    input: output/gamma/MX/MX_0.01.50_5_0.5_gamma.txt
    output: output/figures/MX/MX_0.01.50_5_0.5_gamma.png
    jobid: 15
    wildcards: POP=MX, MAF=0.01, window=50, step=5, thresh=0.5


[Sun Oct  4 14:55:59 2020]
rule plot_gamma:
    input: output/gamma/AMR/AMR_0.01.50_5_0.5_gamma.txt
    output: output/figures/AMR/AMR_0.01.50_5_0.5_gamma.png
    jobid: 12
    wildcards: POP=AMR, MAF=0.01, window=50, step=5, thresh=0.5


[Sun Oct  4 14:55:59 2020]
rule plot_gamma:
    input: output/gamma/ALL/ALL_0.01.50_5_0.5_gamma.txt
    output: output/figures/ALL/ALL_0.01.50_5_0.5_gamma.png
    jobid: 16
    wildcards: POP=ALL, MAF=0.01, window=50, step=5, thresh=0.5


[Sun Oct  4 14:55:59 2020]
rule plot_gamma:
    input: output/gamma/SAS/SAS_0.01.50_5_0.5_gamma.txt
    output: output/figures/SAS/SAS_0.01.50_5_0.5_gamma.png
    jobid: 13
    wildcards: POP=SAS, MAF=0.01, window=50, step=5, thresh=0.5


[Sun Oct  4 14:55:59 2020]
rule plot_gamma:
    input: output/gamma/EUR/EUR_0.01.50_5_0.5_gamma.txt
    output: output/figures/EUR/EUR_0.01.50_5_0.5_gamma.png
    jobid: 10
    wildcards: POP=EUR, MAF=0.01, window=50, step=5, thresh=0.5


[Sun Oct  4 14:56:00 2020]
rule plot_gamma:
    input: output/gamma/AA/AA_0.01.50_5_0.5_gamma.txt
    output: output/figures/AA/AA_0.01.50_5_0.5_gamma.png
    jobid: 14
    wildcards: POP=AA, MAF=0.01, window=50, step=5, thresh=0.5


[Sun Oct  4 14:56:00 2020]
rule plot_gamma:
    input: output/gamma/AFR/AFR_0.01.50_5_0.5_gamma.txt
    output: output/figures/AFR/AFR_0.01.50_5_0.5_gamma.png
    jobid: 11
    wildcards: POP=AFR, MAF=0.01, window=50, step=5, thresh=0.5


[Sun Oct  4 14:56:00 2020]
localrule all:
    input: output/figures/EAS/EAS_0.01_PCA.png, output/figures/EUR/EUR_0.01_PCA.png, output/figures/AFR/AFR_0.01_PCA.png, output/figures/AMR/AMR_0.01_PCA.png, output/figures/SAS/SAS_0.01_PCA.png, output/figures/AA/AA_0.01_PCA.png, output/figures/MX/MX_0.01_PCA.png, output/figures/ALL/ALL_0.01_PCA.png, output/figures/EAS/EAS_0.01.50_5_0.5_gamma.png, output/figures/EUR/EUR_0.01.50_5_0.5_gamma.png, output/figures/AFR/AFR_0.01.50_5_0.5_gamma.png, output/figures/AMR/AMR_0.01.50_5_0.5_gamma.png, output/figures/SAS/SAS_0.01.50_5_0.5_gamma.png, output/figures/AA/AA_0.01.50_5_0.5_gamma.png, output/figures/MX/MX_0.01.50_5_0.5_gamma.png, output/figures/ALL/ALL_0.01.50_5_0.5_gamma.png
    jobid: 0

Complete log: /project2/jjberg/jgblanc/1000G_Gamma/.snakemake/log/2020-10-04T145548.602740.snakemake.log
